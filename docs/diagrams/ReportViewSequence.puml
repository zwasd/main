@startuml
!include style.puml
box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":TopLevelParser" as TopLevelParser LOGIC_COLOR
participant ":ReportLevelParser" as ReportLevelParser LOGIC_COLOR
participant ":ViewReportCommandParser" as ViewReportCommandParser LOGIC_COLOR
participant "r:ViewReportCommand" as ViewReportCommand LOGIC_COLOR
participant ":CommandResult" as CommandResult LOGIC_COLOR
end box

[-> LogicManager : execute("report view -sd 2020-03-01\n -ed 2020-03-31 -g PIE")
activate LogicManager

LogicManager -> TopLevelParser : parseCommand("report view\n -sd 2020-03-01 -ed 2020-03-31 -g PIE")
activate TopLevelParser

create ReportLevelParser
TopLevelParser -> ReportLevelParser
activate ReportLevelParser
TopLevelParser -> ReportLevelParser : parseCommand("view -sd 2020-03-01 \n -ed 2020-03-31 -g PIE")

create ViewReportCommandParser
ReportLevelParser -> ViewReportCommandParser
activate ViewReportCommandParser
ReportLevelParser -> ViewReportCommandParser : parse("-sd 2020-03-01\n -ed 2020-03-31 -g PIE")

create ViewReportCommand
ViewReportCommandParser -> ViewReportCommand
activate ViewReportCommand
ViewReportCommand -> ViewReportCommandParser : r
deactivate ViewReportCommand

ViewReportCommandParser -> ReportLevelParser : r
deactivate ViewReportCommandParser
ViewReportCommandParser -[hidden]-> ReportLevelParser
destroy ViewReportCommandParser

ReportLevelParser -> TopLevelParser : r
deactivate ReportLevelParser
ReportLevelParser -[hidden]-> TopLevelParser
destroy ReportLevelParser

TopLevelParser -> LogicManager : r
deactivate TopLevelParser

LogicManager -> ViewReportCommand : execute()
activate ViewReportCommand
ref over ViewReportCommand, CommandResult : GenerateStats and Graph

create CommandResult
ViewReportCommand -> CommandResult
activate CommandResult

CommandResult -> ViewReportCommand
deactivate CommandResult

ViewReportCommand -> LogicManager : result
deactivate ViewReportCommand

[<-- LogicManager
deactivate LogicManager

@enduml
